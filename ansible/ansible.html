
<!DOCTYPE html>
<html lang="en">
  <head>
	 <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
       <meta name="viewport" content="width=device-width, initial-scale=1">

    	 <!-- Copy this two files and save them in the dir named js -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
  	<script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script> 
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <!-- Meta tag provides the information about the html document -->

    <meta name="description" content="its about linux and devops tools">
    <meta name="author" content="Bikram Bhandari">
    <link rel="icon" href="../../favicon.ico">

    <title>Ansible </title>

    <!-- Bootstrap core CSS -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">
    
   <!-- Custom styles for this template which is defined in the css folder-->
    <link href="../css/justified-nav.css" rel="stylesheet">
   <link href="../css/home.css" rel="stylesheet">
   <link href="../css/command.css" rel="stylesheet">

<!--just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]--> 
 </head>

  <body>

  <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.10";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

    <div class="container">

      <!-- The justified navigation menu is meant for single line per list item.
           Multiple lines will require custom code not provided by Bootstrap. -->
      <div class="masthead">
        <h3 class="text-muted title">Ping Linux</h3>
       <div class="bs-example">
	<nav >
          <ul class="nav nav-justified nav-pills" role="tablist">
	    <li class="active active badge"><a href="../index.html">Home</a></li>
	    <!----submenu in the contents ------->
 
	    <li class="dropdown active badge col-md-6"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Contents<b class="caret"></b></a>
			<ul class="dropdown-menu col-xs-12" role="menu" style="text-align:center;">

                            <li><a href="../contents/introtolinux.html">Into to Linux</a></li>
                            <li><a href="../contents/filemanagement.html">File management</a></li>
                            <li><a href="../contents/textediting.html">Text Editing & processing</a></li>
                            <li class="divider"></li>
                            <li><a href="../contents/filepermissions.html">File Permissions,Users and Groups</a></li>
			    <li><a href="../contents/packageinstall.html">Package Install and  Management</a></li>
                            <li><a href="../contents/processmanagement.html">Process Management</a></li>
			    <li><a href="../contents/networkutilities.html">Network Utilities</a></li>
			    <li><a href="../contents/compressedfiles.html">Compressed Files & logging</a></li>
			    <li><a href="../contents/filestransfer.html">Files transfer</a></li>
			    <li><a href="../contents/firewall.html">Firewalls and Security </a></li>
			</ul>
                    </li>
		<li class="dropdown active badge col-md-6"><a href="#" data-toggle="dropdown" class="dropdown-toggle">Devops<b class="caret"></b></a> 
			<ul class="dropdown-menu col-xs-12" role="menu" style="text-align:center;">
			<li><a href="../vagrant/vagrant.html">Vagrant</a></li>                                                     <li class="divider"></li>
                                <li><a href="../devops/puppet.html">Puppet</a></li>
                                <li class="divider"></li>
                                <li><a href="../ansible/ansible.html"> Ansible</a></li>
                                <li class="divider"></li>
                                <li><a href="../git/git.html">Git</a></li>
			</ul>
	    </li>	
            <li class="active badge"><a href="../contact.html">Contact</a></li>
	</ul>
        </nav>
      </div>
     </div>
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- top -->
<ins class="adsbygoogle"
     style="display:inline-block;width:728px;height:90px"
     data-ad-client="ca-pub-5629969818459684"
     data-ad-slot="2973793853"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script> 
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-lg-7">
          <h2>Ansible</h2>
			<!-- Display fb button here -->
                      <div style="display: block;text-align: right;" class="fb-share-button" data-href="http://www.pinglinux.com/ansible/ansible.html" data-layout="button" data-size="large" data-mobile-iframe="true"><a class="fb-xfbml-parse-ignore" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.pinglinux.com%2F&amp;src=sdkpreparse">Share</a></div>
	   <hr></hr>
          <p class="text-danger bluefont">What is Ansible ?</p>
          <p class="pfont">Ansible is the automation platform for configuring, manageing and deploying  the system.It manages nodes over SSH or PowerShell.it manages many servers from single machine i.e ansible is installed in only master server.. </p>
	  </div>
	<div class="col-lg-5">
	<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<!-- subpages -->
<ins class="adsbygoogle"
     style="display:inline-block;width:336px;height:280px"
     data-ad-client="ca-pub-5629969818459684"
     data-ad-slot="1589838655"></ins>
<script>
(adsbygoogle = window.adsbygoogle || []).push({});
</script>
	</div>
	</div>

	<div class="row">
	  <div class="col-lg-6">
           <p class="bluefont"> Installation Process </p>
	 	<p class="pfont">Assuming you already have virtual box and vagrant setup.We will move the process further from there. </p>
		<pre>$ vagrant init tower http://vms.ansible.com/ansible-tower-2.4.3-virtualbox.box
$ vagrant up
$ vagrant ssh </pre>
		<p class="pfont"> Install ansible in mac </p>
		<pre >Sudo easy_install pip
sudo pip install ansible </pre>
		<p class="pfont">To upgrade ansible </p>
		<pre>sudo pip install ansible --upgrade  </pre>
		<p class="pfont"><b>Install ansible in redhat/centos </b></p>
		<p class="pfont"> Get the epel repo </pre>
		<pre>yum install ansible </pre>
	  </div>
	  <div class="col-lg-6">
	   <p class="bluefont">Path to setup the inventory </br></p>
	  <p class="pfont">vi /etc/ansible/hosts </p>
	   <pre>Pinglinux1.com ansible_ssh_host=192.168.1.5 ansible_ssh_user=username
Pinglinux2.com ansible_ssh_host=192.168.1.6 ansible_ssh_user=root
Pinglinux3.com ansible_ssh_host=192.168.1.7 ansible_ssh_user=ec2-user
		</pre>
		<pr>You can only have ip as well  and use any port beside default 22</p>
		<pre>192.168.1.5
192.168.1.6:22222
192.168.1.7	 </pre>
	<p class="pfont">1) Make sure you can connect to each of this servers from  your localmachine without password
		i.e you have placed your public key on each of this host.<br>
	2) Define path while runnign the module or playbook using  -i path if its not default /etc/ansible/hosts<br>
	3)export ANSIBLE_HOSTS=path_to_hostfile </p>
        </div>
      </div>


	<div class="row">
          <div class="col-lg-6">
           <p class="bluefont"> Testing if you could connect to this servers </p>
	 	<p><b> ansible -m ping all</b> </br> <b> ansible -m ping pinglinux1.com</b> #ping only one server</p>
		<pre>
pinglinux1.com | success >> {
    "changed": false,
     "ping":"pong"

}
pinglinux2.com | success >> {
    "changed": false,
     "ping":"pong"

}
pinglinux3.com | success >> {
    "changed": false,
     "ping":"pong"

}
		</pre>
		<p>This indicates that hosts are up and running as well as ansible can ping them all.</p>
	   </div>
          <div class="col-lg-6">
           <p class="bluefont"> </p>
	   </div>
	 </div>

	 <div class="row">
          <div class="col-lg-6">
           <p class="bluefont"> Shell Modulee </p>
	   <p class="pfont">Running the shell command on the remote host from local machine </p>
	    <p>ansible  -m  shell -a 'uname -a' 192.168.1.5 </p>
	    <pre>192.168.1.5 | success | rc=0 >>
Linux pinglinux.com 2.6.32-431.29.2.el6.x86_64 #1 SMP Tue Sep 9 21:36:05 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux 
	   </pre>
           </div>
          <div class="col-lg-6">
           <p class="bluefont"> Copy Module </p>
	   <p class="pfont"> Copying the files/directories </p>
	  <pre>ansbile -m copy -a 'src=/tmp/pinglinux' 192.168.1.10 </pre>
	  <img src="../ansiblepict/ansible1.png" alt="ansible" style="width:110%;height:100%;">
	 <p class="pfont">
		1)all indicates 'all hosts found in the inventory list' </br>
    		2) you can point the inventory while running the command</br>
   		3) Run the command as sudo </br>
		eg: </br>
		ansible -i /etc/anisble/hosts -m copy -a 'src=/tmp/file dest=/tmp/' all -sudo </p>
           </div>
         </div>


	  <div class="row">
          <div class="col-lg-6">
           <p class="bluefont"> Playbook</p>
	  <p class="pfont">
		it is a series of commands in a file that are targeted to the particular host or groups. i.e. ansible configuration management script.
		</br>
		Lets install the httpd package in the web servers group which include 3hosts.</p>
		<pre>vi httpd.yml</pre> 
	 
	<pre>
	 ---
	- hosts: all or webservers or ipaddress
        tasks:
	   - name: Installing Latest version of Apache
	     yum: pkg=httpd state=latest
	</pre>
	<pre><b> anisble-playbook path/httpd.yml </b> </pre>
	<p class="pfont">To install it only in one server. </p>
	<pre><b> anisble-playbook -l pinglinux.com path/httpd.yml </b> </pre>
           </div>
          <div class="col-lg-6">
           <p class="bluefont">Example  </p>
	  <img src="../ansiblepict/ansible2.png" alt="ansible" style="width:110%;height:100%;">
	  <pre>ansible-playbook httpd.yml </pre>
	  <img src="../ansiblepict/ansible3.png" alt="ansible" style="width:110%;height:100%;">
           </div>
         </div>

	  <div class="row">
          <div class="col-lg-6">
           <p class="bluefont"> Different ways to manage your host file </p>
	  <p class="pfont">
		hostname   ==> module applies to one host</br>
		hostname:hostname  ==> modules applies to two host</br>
		all   ==> modules applies to all host</br>
		*     ==> modules applies to all host</br>
		*.example.com => applies t all host that has domain name example.com</br>

		Grouping the hostname</br>
		eg webservers:</br>
		[webserver]</br>
		pinglinux1.com</br>
		pinglinux2.com</br>
		pinglinux3.com</br>

	</p>
           </div>
          <div class="col-lg-6">
           <p class="bluefont">  </p>
           </div>
         </div>

	<nav>
  		<ul class="pager button active">
    			<!--<li><a href="#"><span aria-hidden="true">&larr;</span>Previous</a></li>-->
    			<li><a href="amodule.html">Next<span aria-hidden="true">&rarr;</span></a></li>
  		</ul>
	</nav>
     <hr></hr>
 </div>
  </div> <!-- /container -->
  <!-- Jumbotron -->
      <div class="jumbotron footerdev">
        <h1>Smart Technology begins here!!</h1>
        <p> Welcome to the site. Here you can find useful information about linux command, there usages, as well as the devops tools and the installation process.</p>
        <p><a class="btn btn-primary " href="#" role="button">Get started today</a></p>
      </div>
<!-- Site footer -->

      <footer class="footer copyright">
        <p>&copy; Pinglinux 2014</p>
      </footer>

    
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
  </body>
</html>
